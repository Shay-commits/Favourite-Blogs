{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","components/Blog.js","reducers/notificationReducer.js","components/blogform.js","components/toggable.js","reducers/loginReducer.js","services/login.js","components/Login.js","services/users.js","components/Signup.js","components/loginheaderlink.js","components/Home.js","App.js","index.js"],"names":["token","getAll","a","axios","get","request","data","create","newObject","config","headers","Authorization","post","response","setToken","newToken","update","id","put","remove","delete","blogReducer","state","action","type","concat","blog","find","x","changedBlog","likes","newState","map","filter","Blog","dispatch","useDispatch","useSelector","useState","visibility","setVisibility","showWhenVisibility","display","hideWhenVisibility","toggleVisibility","increaseLikes","changeBlog","n","blogService","updatedBlog","removeButton","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","username","console","log","style","paddingTop","paddingLeft","border","borderWidth","className","title","author","onClick","class","url","confirm","deleteBlog","notificationChanger","notificationReducer","BlogForm","addBlog","event","preventDefault","target","value","newBlog","setTimeout","onSubmit","name","typep","Toggable","React","forwardRef","props","ref","showWhenVisible","hideWhenVisible","useImperativeHandle","displayName","buttonLabel","children","setUser","loginReducer","login","credentials","LoginForm","loginHandler","password","loginService","setItem","stringify","userObject","SignupForm","history","useHistory","signupHandler","userService","push","LoginHeader","removeItem","to","HomePage","src","App","useEffect","blogState","notification","notify","logoutHandler","useRef","path","Login","Signup","sort","b","key","Home","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cdc64541.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\n\n\nlet token = null\n\nconst setToken = (newToken) => {\n\n    token = `bearer ${newToken}`\n}\n\nconst getAll = async () => {\n    const request = await axios.get(baseUrl)\n    return request.data\n}\n\nconst create = async (newObject) => {\n    const config = {\n        headers: {Authorization: token}\n    }\n\n    const response = await axios.post(baseUrl, newObject, config)\n    return response.data\n}\n\nconst update = async (id,newObject) => {\n    const response = await axios.put(`${baseUrl}/${id}`, newObject)\n    return response.data\n}\n\nconst remove = async (id) => {\n\n    const config = {\n        headers: {Authorization: token}\n    } \n    const response = await axios.delete(`${baseUrl}/${id}`,config)\n    return response.data \n\n}\n\nexport default { getAll, create, setToken, update, remove }","import blogService from '../services/blogs'\n\n\nconst blogReducer = (state=[], action) => {\n\n  switch (action.type) {\n  case 'INIT_BLOG':\n    return action.data\n\n  case 'NEW_BLOG':\n    return state.concat(action.data)\n\n  case 'LIKE': {\n    const id = action.data.id\n    const blog = state.find(x => x.id == id)\n    const changedBlog = { ...blog, likes : blog.likes+1 }\n    const newState = state.map( x => x.id !== id? x : changedBlog)\n\n    return newState }\n\ncase 'DELETE': {\n     const id = action.data.id \n     const newState = state.filter(x => x.id !== id)\n     return newState\n}\n  default:\n    return state\n  }\n\n}\n\nexport const initializeBlogs = () => {\n    return async (dispatch) => {\n      const data =  await blogService.getAll()\n\n      dispatch({type: 'INIT_BLOG',\n      data})\n    }\n}\n\nexport const createBlogs = (data) => {\n  return {\n    type: 'NEW_BLOG',\n    data\n  }\n}\n\nexport const updateBlogs = (data) => {\n  return {\n    type: 'LIKE',\n    data }\n}\n\nexport const removeBlogs = (data) => {\n    return {\n        type: 'DELETE',\n        data\n    }\n}\n\nexport default blogReducer","import React, { useState } from 'react'\r\nimport blogService from '../services/blogs.js'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { removeBlogs, updateBlogs } from '../reducers/blogReducer'\r\n\r\nconst Blog = ({ blog }) => {\r\n  const blogStyle = {\r\n    paddingTop: 10,paddingLeft: 2,border: 'solid',borderWidth: 1\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n  const state = useSelector(state => state.blog)\r\n  const [visibility,setVisibility] = useState(false)\r\n  const showWhenVisibility = { display: visibility? '': 'none' }\r\n  const hideWhenVisibility = { display: visibility? 'none': '' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisibility(!visibility)\r\n  }\r\n  // Increase and Update Blog likes\r\n  const increaseLikes = async (id,blog) => {\r\n    const changeBlog = state.find(n => n.id === id )\r\n    const changedBlog = { ...changeBlog, likes: changeBlog.likes + 1}\r\n    const updatedBlog =  await blogService.update(id, changedBlog)\r\n    \r\n    dispatch(updateBlogs(updatedBlog))\r\n  }\r\n  // Delete Blog Post\r\n  const deleteBlog = (id,blog) => {\r\n    if (window.confirm(`Remove blog ${blog.title} by ${blog.author}`)) {\r\n      blogService.remove(id)\r\n      dispatch(removeBlogs(blog))\r\n    }\r\n  }\r\n\r\n  // Visibility of Delete Blog Post button \r\n  let removeButton = { display: 'none' }\r\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n  \r\n  if (loggedUserJSON) {\r\n    const user =  JSON.parse(loggedUserJSON);\r\n    const username = blog.user? blog.user.username : blog;\r\n    removeButton = { display: user.username == username? '': 'none' }\r\n\r\n  console.log(blog.user)\r\n  console.log(`This is logged user ${user.username}`) }\r\n  \r\n  return  (\r\n    <div style={blogStyle} className='newtest'>\r\n      <div style={hideWhenVisibility} className='blogtest'>\r\n        {blog.title} by {blog.author}\r\n        <button onClick={toggleVisibility}> view </button>\r\n      </div>\r\n      <div style={showWhenVisibility} className='hiddennewtest'>\r\n         <p><span class=\"listhead\">Title : </span> {blog.title} by {blog.author} <button onClick={toggleVisibility}> hide </button> </p>\r\n         <p>  <span class=\"listhead\">Link : </span> {blog.url} </p>\r\n         <p> <span class=\"listhead\"> Likes:</span> {blog.likes} <button onClick={() => increaseLikes(blog.id, blog)}> like </button> </p>\r\n        <p> <button style={removeButton} onClick={() => deleteBlog(blog.id,blog)}> remove </button></p>\r\n\r\n      </div>\r\n    </div>\r\n  ) \r\n}\r\n\r\nexport default Blog\r\n","\n\n\n\nconst notificationReducer = (state='', action) => {\n  switch (action.type) {\n  case 'SET_NOTIFICATION':\n    return action.data\n  default:\n    return state\n  }\n\n\n}\n\nexport const notificationChanger = (data) => {\n  return {\n    type : 'SET_NOTIFICATION',\n    data\n  }\n}\n\n\n\nexport default notificationReducer","import React from 'react'\nimport blogService from '../services/blogs'\nimport { useDispatch } from 'react-redux'\nimport  { createBlogs } from '../reducers/blogReducer'\nimport { notificationChanger } from '../reducers/notificationReducer'\n\nconst BlogForm = () => {\n\n  const dispatch = useDispatch()\n\n  const addBlog =  async (event) => {\n    event.preventDefault()\n\n    const title = event.target.title.value\n    const author = event.target.author.value\n    const url =  event.target.url.value\n    event.target.title.value = ''\n      event.target.author.value = ''\n      event.target.url.value = ''\n\n    const newBlog = {\n      title,\n      author,\n      url\n\n    }\n\n\n    try {\n      \n      const blog = await blogService.create(newBlog)\n      dispatch(createBlogs(blog))\n      dispatch(notificationChanger(`${title} by ${author} added`))\n      setTimeout(() => {\n        dispatch(notificationChanger(null))\n      },5000)\n    }\n\n    catch(exception) {\n\n      console.log('There was an error')\n\n    }\n\n  }\n\n \n  \n\n  return (\n\n    <div class=\"formcont\">\n      <div class=\"blogformheading\">\n        <h2> Add a new blog  </h2>\n      </div>\n      <div class=\"blogform\">\n        <form onSubmit={addBlog}>\n          <div class=\"input\">\n            <p> Title </p>\n            <input type=\"text\" name=\"title\" />\n          </div>\n          <div class=\"input\"> \n           <p> Author </p>\n           <input type=\"text\" name=\"author\"/>\n          </div>  \n          <div class=\"input\">\n            <p> Url </p>\n            <input type=\"text\" name=\"url\"/> \n          </div> \n          <button class=\"blogbutton\" typep=\"submit\"> create </button> \n        </form>\n      </div>\n   </div>\n  )\n}\n\n\nexport default BlogForm","import React, { useState, useImperativeHandle } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Toggable = React.forwardRef((props, ref) => {\n\n  const [visibility,setVisibility] = useState(false)\n  const showWhenVisible = { display: visibility? '': 'none' }\n  const hideWhenVisible = { display: visibility? 'none' : '' }\n\n  const toggleVisibility = () => {\n    setVisibility(!visibility)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  Toggable.propTypes = {\n    buttonLabel: PropTypes.string.isRequired\n  }\n\n  Toggable.displayName = 'Toggable'\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}> {props.buttonLabel} </button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}> cancel </button>\n      </div>\n    </div>\n  )\n})\n\nexport default Toggable\n","const loginReducer = (state= null, action) => {\n\n    switch(action.type) {\n        case 'SET_USER':\n            return action.data\n        default:\n            return state    \n    }\n}\n\n\nexport const setUser = (data) => {\n    \n\n      return {\n          type: 'SET_USER',\n          data\n      }\n\n\n} \n\nexport default loginReducer","import axios from 'axios'\nconst baseUrl = '/api/login/'\n\n\nconst login = async (credentials) => {\n    const response = await axios.post(baseUrl, credentials)\n    return response.data\n\n}\n\nexport default {login}","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport  { setUser } from '../reducers/loginReducer'\nimport { notificationChanger } from '../reducers/notificationReducer'\nimport  blogService  from '../services/blogs'\nimport loginService from '../services/login'\n\n\n\nconst LoginForm = () => {\n\n  const dispatch = useDispatch()\n\n\n  const loginHandler = async (event) => {\n    event.preventDefault()\n    const username = event.target.username.value\n    const password = event.target.password.value\n    event.target.username.value = ''\n    event.target.password.value = ''\n\n    const credentials = {\n      username,\n      password\n    }\n\n    try {\n      const user = await loginService.login(credentials)\n      // save user info in local storage\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n      blogService.setToken(user.token)\n      dispatch(setUser(user))\n    }\n\n    catch (exception) {\n      dispatch(notificationChanger('invalid username or password'))\n      setTimeout(() => {\n        dispatch(notificationChanger(null))\n      }, 5000)\n    }\n  }\n\n  return (\n    <div class=\"formcont\">\n      <div class=\"blogformheading\">\n        <h2> Login </h2>\n        </div>\n  <div class=\"blogform\">\n    <form onSubmit={loginHandler}>\n      <div class=\"input\">\n       <p> username </p>\n        <input type=\"text\" name=\"username\"  />\n      </div>\n\n      <div class=\"input\">\n        <p> password </p>\n        <input type=\"text\" name=\"password\" />\n      </div>\n\n      <button type=\"submit\"> login </button>\n\n    </form>\n  </div> \n  </div>\n  \n  ) }\nexport default LoginForm\n\n","import axios from 'axios'\nconst baseUrl = '/api/users/'\n\n\n\nconst getAll = () => {\n    const response = axios.get(baseUrl)\n    return response.data\n}\n\n\nconst create = async (userObject) => {\n    const response = await axios.post(baseUrl, userObject)\n    return response.data \n}\n\n\nexport default {getAll, create }","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport userService from '../services/users'\nimport { useDispatch } from 'react-redux'\nimport  { setUser } from '../reducers/loginReducer'\nimport { notificationChanger } from '../reducers/notificationReducer'\nimport  blogService  from '../services/blogs'\n\nconst SignupForm = () => {\n\n  let history = useHistory()\n\n   const dispatch = useDispatch()\n\n\n  const signupHandler = async (event) => {\n    event.preventDefault()\n\n    const name = event.target.name.value\n    const username = event.target.username.value\n    const password = event.target.username.value\n    event.target.name.value = ''\n    event.target.username.value = ''\n     event.target.username.value = ''\n\n\n     const credentials = {\n       name,\n       username,\n       password\n     }\n    \n\n\n    try {\n      const user = await userService.create(credentials)\n      // save user info in local storage \n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n        )\n      blogService.setToken(user.token)\n      dispatch(setUser(user)) \n      history.push('/')\n    }\n\n    catch (exception) {\n      dispatch(notificationChanger('username already exists'))\n      setTimeout(() => {\n        dispatch(notificationChanger(null))\n      }, 5000)\n    }\n\n    }\n\n  return (\n    <div class=\"formcont\">\n      <div class=\"blogformheading\">\n        <h2> Register </h2>\n        </div>\n  <div class=\"blogform\"> \n    <form onSubmit={signupHandler}>\n      <div class=\"input\">\n         <p> name </p>\n        <input type=\"text\" name=\"Name\" />\n      </div>\n      <div class=\"input\">\n       <p> username </p>\n        <input type=\"text\" name=\"Username\" />\n      </div>\n      <div class=\"input\">\n        <p> password</p>\n        <input type=\"text\" name=\"Password\" />\n      </div>\n      <button type=\"submit\"> sign Up </button>\n    </form>\n    </div>\n    </div>\n    \n  ) \n}\n\nexport default SignupForm\n\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setUser } from '../reducers/loginReducer'\n\n\n\n\nconst LoginHeader = () => {\n\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.user)\n  //logout handler\n  const logoutHandler = (event) => {\n    event.preventDefault()\n    window.localStorage.removeItem('loggedBlogappUser')\n    dispatch(setUser(null))\n  }\n\n    if (user) {\n        return (\n            <div class=\"headeruser\">\n            <p>  Hello {user.name}  <button onClick={logoutHandler}> logout </button></p>\n            </div>\n\n        )\n    }\n    return (\n      <div class=\"headeruser\">\n        <Link  to=\"/register\"> Register</Link>\n        <Link  to=\"/login\"> Log In</Link>\n      </div>\n    \n    )\n\n}\n\nexport default LoginHeader","import React from 'react'\nimport {Link} from 'react-router-dom'\n\n\nconst HomePage = () => {\n  return (\n    <div class=\"maincont\">\n      <div class=\"imagecont\">\n        <img src=\"https://purepng.com/public/uploads/large/purepng.com-white-paper-planpaper-planeaeroplanepaper-gliderpaper-dartaircraftfolded-paperpaperboardclipart-14215265881356kjut.png\"></img>\n      </div>\n      <div class=\"contentcont\">\n        <div class=\"contentheading\">\n          <h3> Welcome</h3>\n        </div>\n        <div class=\"contenttext\">\n          <p> Welcome to the Bloglist, a collection of health related blogs that have impacted our user's lifes. Users have the ability to view all blog links, make sure to like your favourite links. Blogs are listed in descending order of likes. Feel free to delete blogs that you adedd and feel no longer add value to your fellow member's lifes </p>\n        </div>\n        <div class=\"contentbutton\">\n          <button> <Link to=\"/blogs\"> View Blogs </Link> </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HomePage  ","import React, { useEffect, useRef } from 'react'\nimport {Switch, useHistory, Route, Link} from 'react-router-dom'\nimport Blog from './components/Blog'\nimport BlogForm from './components/blogform'\nimport blogService from './services/blogs'\nimport Toggable from './components/toggable'\nimport LoginForm from './components/Login'\nimport { useSelector, useDispatch } from 'react-redux'\nimport {initializeBlogs} from './reducers/blogReducer'\nimport { setUser } from './reducers/loginReducer'\nimport SignupForm from './components/Signup'\nimport LoginHeader from './components/loginheaderlink'\nimport HomePage from './components/Home'\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n \n  useEffect(() => {\n    dispatch(initializeBlogs())\n  }, [dispatch])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      dispatch(setUser(user))\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const blogState = useSelector(state => state.blog)\n  const notification = useSelector(state => state.notify)\n  const user = useSelector(state => state.user)\n\n  let history = useHistory()\n\n  \n \n  //logout handler\n  const logoutHandler = (event) => {\n    event.preventDefault()\n    window.localStorage.removeItem('loggedBlogappUser')\n    dispatch(setUser(null))\n  }\n  \n  const blogFormRef = useRef()\n  \n  \n  return (\n    <div>\n      <div class=\"bodycont1\">\n        <h3 class=\"headerlogo\"> BlogList</h3>\n        <Link class=\"headerlink\" to=\"/\"> Home </Link>\n        <Link class=\"headerlink\" to=\"/newblog\"> New Blog </Link>\n        <Link class=\"headerlink\" to=\"/blogs\"> Blogs </Link>\n        <LoginHeader/>\n      </div>\n\n      <Switch>\n       <Route path=\"/newblog\">\n          <div>\n            {user === null?\n            <div>\n              <LoginForm />\n            </div> :\n             <BlogForm/>}\n          </div> \n        </Route>\n        <Route path=\"/register\">\n          <div>\n            {user === null?\n              <div> \n                <SignupForm />  \n              </div> :\n              <div>\n              <p> {user.name} logged-in <button onClick={logoutHandler}> logout </button></p>\n              </div>\n              }\n            </div>\n        </Route>\n\n        <Route path=\"/login\">\n          <div>\n            {user === null?\n              <div> \n                <LoginForm />  \n              </div> :\n              <div>\n              <p> {user.name} logged-in <button onClick={logoutHandler}> logout </button></p>\n              </div>\n              }\n            </div>\n        </Route>\n        \n\n        <Route path=\"/blogs\">\n          <h3> {notification} </h3>\n          <div>\n            {user === null?\n            <div>\n              <div class='loginform'>\n                <LoginForm />\n              </div>\n              <div class='signupform'>\n                <SignupForm /> \n              </div>\n            </div> \n            :\n            <div class='bloglistcont'>\n                {blogState.sort((a,b) => a.likes - b.likes).map(blog =>\n                  <Blog key={blog.id} blog={blog} />\n                )}\n            </div>}\n          </div>\n        </Route>\n\n\n        <Route path=\"/\">\n          <HomePage/>\n\n\n        </Route>\n\n      \n      </Switch>\n  </div>\n )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport {Provider } from 'react-redux'\nimport blogReducer from './reducers/blogReducer'\nimport App from './App'\nimport notificationReducer from './reducers/notificationReducer'\nimport loginReducer from './reducers/loginReducer'\n\n\n\nconst reducer = combineReducers({\n    blog: blogReducer,\n    notify: notificationReducer,\n    user : loginReducer\n\n})\n\nconst store = createStore(\n  reducer, \n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n)\n\n\n\n\nReactDOM.render(\n    <Router>\n    <Provider store={store}> \n      \n        <App />\n      \n\n    </Provider>\n    </Router>, document.getElementById('root'))"],"sourceRoot":""}